<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chess vs GPT</title>
    <link rel="icon" href="favicon.svg" />
    <link rel="stylesheet" href="css/chessboard-1.0.0.min.css" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <h1>Chess vs GPT</h1>
    <div id="board"></div>
    <div id="status"></div>
    <button id="apiKeyBtn" class="btn">Manage API Key</button>

    <!-- API Key Modal -->
    <div id="apiKeyModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>OpenAI API Key</h2>
        <p>
          To play against GPT-4, you'll need your own OpenAI API key. This key
          is encrypted and stored only in your browser - we never see or store
          it on our servers.
        </p>
        <div class="security-warning">
          <strong>ðŸ”’ Security Notice:</strong>
          <ul>
            <li>
              Your API key is encrypted and stored locally in your browser
            </li>
            <li>Only use this on trusted devices and secure networks</li>
            <li>We recommend creating a dedicated API key with usage limits</li>
            <li>You can choose to clear the key when you close your browser</li>
          </ul>
        </div>
        <form onsubmit="return false;">
          <input
            type="text"
            id="usernameField"
            name="username"
            autocomplete="username"
            style="display: none"
            aria-hidden="true"
          />
          <input
            type="password"
            id="apiKeyInput"
            placeholder="Enter your OpenAI API key"
            autocomplete="new-password"
          />
        </form>
        <div class="model-selector">
          <label for="modelSelect">Select AI Model:</label>
          <select id="modelSelect" class="model-select">
            <optgroup label="Reasoning Models">
              <option value="o3">O3 [Advanced multi-step reasoning]</option>
              <option value="o4-mini">
                O4-Mini [Fast, affordable reasoning]
              </option>
              <option value="o3-mini">O3-Mini [Compact reasoning model]</option>
            </optgroup>
            <optgroup label="Flagship Chat Models">
              <option value="gpt-4-0125-preview">
                GPT-4.5 [Most advanced, best at complex strategy]
              </option>
              <option value="gpt-4-1106-preview">
                GPT-4 Turbo [Very capable, faster than GPT-4]
              </option>
              <option value="gpt-4">
                GPT-4 [Strong performance, reliable]
              </option>
              <option value="gpt-4o">
                GPT-4o [Fast, flexible, real-time capable]
              </option>
            </optgroup>
            <optgroup label="Cost-Optimized Models">
              <option value="gpt-4o-mini">
                GPT-4o Mini [Fast, affordable, solid understanding]
              </option>
            </optgroup>
            <optgroup label="Legacy Models">
              <option value="gpt-3.5-turbo">
                GPT-3.5 Turbo [Basic chess understanding]
              </option>
            </optgroup>
          </select>
        </div>
        <div class="storage-selector">
          <label>
            <input type="checkbox" id="persistentStorage" />
            Remember API key between browser sessions (less secure)
          </label>
          <small
            >Unchecked = API key clears when browser closes (more secure)</small
          >
        </div>
        <div class="button-group">
          <button id="saveApiKey" class="btn">Save Key</button>
          <button id="removeApiKey" class="btn btn-danger">Remove Key</button>
        </div>
        <p id="apiKeyStatus" class="status-text"></p>
      </div>
    </div>

    <script src="js/jquery.js"></script>
    <script src="js/chess.js"></script>
    <script src="js/chessboard.js"></script>
    <script src="js/openai.js"></script>
    <script src="js/main.js"></script>
    <script>
      window.va =
        window.va ||
        function () {
          (window.vaq = window.vaq || []).push(arguments);
        };
    </script>
    <script
      defer
      src="/_vercel/insights/script.js"
      onerror="console.log('Analytics blocked by client')"
    ></script>

    <footer class="social-links">
      <a
        href="https://github.com/tarekchaalan/CHESSvsGPT"
        target="_blank"
        rel="noopener noreferrer"
        title="GitHub Repository"
      >
        <img src="img/github.svg" alt="GitHub" class="social-icon" />
      </a>
      <a
        href="https://tarekchaalan.com"
        target="_blank"
        rel="noopener noreferrer"
        title="Portfolio Website"
      >
        <img src="img/portfolio.svg" alt="Portfolio" class="social-icon" />
      </a>
    </footer>
  </body>
</html>
